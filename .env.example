# ===========================================
# UndeadList Environment Configuration
# ===========================================
# Copy this file to .env.local and fill in your values

# Get from https://aistudio.google.com/apikey
GOOGLE_GEMINI_API_KEY="your-gemini-api-key"

# ----- DATABASE -----
# PostgreSQL connection string
# Local: postgresql://user:password@localhost:5432/undeadlist
# Neon: postgresql://user:password@ep-xxx.us-east-1.aws.neon.tech/undeadlist?sslmode=require
DATABASE_URL="postgresql://user:password@localhost:5432/undeadlist"

# ----- AUTH -----
# Base URL for auth callbacks (no trailing slash)
NEXTAUTH_URL="http://localhost:3000"

# Secret for signing tokens - generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-here-generate-me"

# ----- STRIPE -----
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Webhook secret - get from Stripe CLI or dashboard
# Run: stripe listen --forward-to localhost:3000/api/stripe/webhook
STRIPE_WEBHOOK_SECRET="whsec_..."

# Platform fee - 5-tier sliding scale (calculated in lib/fees.ts):
#   Under $25: 2%  |  $25-$100: 3%  |  $100-$500: 4%  |  $500-$2,000: 5%  |  $2,000+: 6%
# Minimum fee: $0.50 per transaction
# Note: STRIPE_PLATFORM_FEE_PERCENT is deprecated, fee is calculated dynamically
STRIPE_PLATFORM_FEE_PERCENT="10"

# ----- CLOUDFLARE R2 (File Storage) -----
# Get from Cloudflare dashboard > R2 > Manage R2 API Tokens
R2_ACCOUNT_ID="your-account-id"
R2_ACCESS_KEY_ID="your-access-key"
R2_SECRET_ACCESS_KEY="your-secret-key"
R2_BUCKET_NAME="undeadlist"

# Public URL for accessing files (set up custom domain or use default)
R2_PUBLIC_URL="https://pub-xxx.r2.dev"
# Same URL but exposed to browser (NEXT_PUBLIC_ prefix required for client-side access)
NEXT_PUBLIC_R2_PUBLIC_URL="https://pub-xxx.r2.dev"

# ----- EMAIL (Resend) -----
# Get from https://resend.com/api-keys
RESEND_API_KEY="re_..."

# From address (must be verified domain in Resend)
EMAIL_FROM="noreply@undeadlist.com"

# ----- APP CONFIG -----
# Public URL of the app (no trailing slash)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# App name shown in UI
NEXT_PUBLIC_APP_NAME="UndeadList"

# ----- OPTIONAL: ANALYTICS -----
# Plausible
# NEXT_PUBLIC_PLAUSIBLE_DOMAIN="undeadlist.com"

# Umami
# NEXT_PUBLIC_UMAMI_WEBSITE_ID="xxx"
# NEXT_PUBLIC_UMAMI_URL="https://analytics.yourdomain.com"

# ----- OPTIONAL: ERROR TRACKING -----
# Sentry
# SENTRY_DSN="https://xxx@xxx.ingest.sentry.io/xxx"
# NEXT_PUBLIC_SENTRY_DSN="https://xxx@xxx.ingest.sentry.io/xxx"

# ----- OPTIONAL: RATE LIMITING -----
# Upstash Redis (for rate limiting)
# UPSTASH_REDIS_REST_URL="https://xxx.upstash.io"
# UPSTASH_REDIS_REST_TOKEN="xxx"

# ----- OPTIONAL: CRON JOBS -----
# Secret for authenticating cron job requests (generate with: openssl rand -base64 32)
# CRON_SECRET="your-cron-secret-here"
